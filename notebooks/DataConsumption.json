{"paragraphs":[{"text":"%spark.dep\n// Select a library of business logic to layer over the raw data\n\nz.reset()\nz.load(\"/data/schemaonreadwithspark_2.12-0.1.jar\")\n","user":"anonymous","dateUpdated":"2019-08-19T07:41:13+0000","config":{"colWidth":12,"fontSize":9,"enabled":true,"results":{},"editorSetting":{"language":"scala","editOnDblClick":false,"completionKey":"TAB","completionSupport":true},"editorMode":"ace/mode/scala"},"settings":{"params":{},"forms":{}},"apps":[],"jobName":"paragraph_1565937859078_-1149056242","id":"20190816-064419_1907828385","dateCreated":"2019-08-16T06:44:19+0000","dateStarted":"2019-08-19T07:41:13+0000","dateFinished":"2019-08-19T07:41:21+0000","status":"FINISHED","errorMessage":"","progressUpdateIntervalMs":500,"focus":true,"$$hashKey":"object:36888"},{"text":"// Use implicit method to read from disk and apply a schema\n// NOTE: Raw data is not changed and could be re-interpeted differently\nimport spark.implicits._\nimport MyDataProducts.raw.ProductRawMenus._\nimport org.apache.spark.sql.functions.explode\nval df = spark.productRawMenus()\n\ndf.printSchema()\nz.show(df)\n","user":"anonymous","dateUpdated":"2019-08-19T07:41:24+0000","config":{"colWidth":12,"fontSize":9,"enabled":true,"results":{},"editorSetting":{"language":"scala","editOnDblClick":false,"completionKey":"TAB","completionSupport":true},"editorMode":"ace/mode/scala"},"settings":{"params":{},"forms":{}},"runtimeInfos":{"jobUrl":{"propertyName":"jobUrl","label":"SPARK JOB","tooltip":"View in Spark web UI","group":"spark","values":["http://172.17.0.3:4040/jobs/job?id=0","http://172.17.0.3:4040/jobs/job?id=1"],"interpreterSettingId":"spark"}},"apps":[],"jobName":"paragraph_1565937869866_-15385274","id":"20190816-064429_2138291198","dateCreated":"2019-08-16T06:44:29+0000","dateStarted":"2019-08-19T07:41:24+0000","dateFinished":"2019-08-19T07:41:36+0000","status":"FINISHED","errorMessage":"","progressUpdateIntervalMs":500,"$$hashKey":"object:36889"},{"text":"// Use enrichments to apply further logic (compute) to source data\n// NOTE: Does not write new data or change what is on disk\nimport MyDataProducts.enriched.PriceCalculations._\nval dfWithGST = df.toDF().withGST()\nz.show(dfWithGST)","user":"anonymous","dateUpdated":"2019-08-19T07:41:42+0000","config":{"colWidth":12,"fontSize":9,"enabled":true,"results":{"0":{"graph":{"mode":"table","height":300,"optionOpen":false,"setting":{"table":{"tableGridState":{},"tableColumnTypeState":{"names":{"restaurant":"string","menu":"string","priceWithGST":"string"},"updated":false},"tableOptionSpecHash":"[{\"name\":\"useFilter\",\"valueType\":\"boolean\",\"defaultValue\":false,\"widget\":\"checkbox\",\"description\":\"Enable filter for columns\"},{\"name\":\"showPagination\",\"valueType\":\"boolean\",\"defaultValue\":false,\"widget\":\"checkbox\",\"description\":\"Enable pagination for better navigation\"},{\"name\":\"showAggregationFooter\",\"valueType\":\"boolean\",\"defaultValue\":false,\"widget\":\"checkbox\",\"description\":\"Enable a footer for displaying aggregated values\"}]","tableOptionValue":{"useFilter":false,"showPagination":false,"showAggregationFooter":false},"updated":false,"initialized":false}},"commonSetting":{}}}},"editorSetting":{"language":"scala","editOnDblClick":false,"completionKey":"TAB","completionSupport":true},"editorMode":"ace/mode/scala"},"settings":{"params":{},"forms":{}},"runtimeInfos":{"jobUrl":{"propertyName":"jobUrl","label":"SPARK JOB","tooltip":"View in Spark web UI","group":"spark","values":["http://172.17.0.3:4040/jobs/job?id=2"],"interpreterSettingId":"spark"}},"apps":[],"jobName":"paragraph_1565937910006_540766852","id":"20190816-064510_1795745085","dateCreated":"2019-08-16T06:45:10+0000","dateStarted":"2019-08-19T07:41:41+0000","dateFinished":"2019-08-19T07:41:42+0000","status":"FINISHED","errorMessage":"","progressUpdateIntervalMs":500,"$$hashKey":"object:36890"},{"text":"// Excuse exploding the array, but note the omission of \"Ojo de bife\", the \"product\" returns a subset of the raw data\n// NOTE: This could also apply filters to partitions of data, improving performance (reduced read/disk IO)\nimport MyDataProducts.features.ProductVegetarianMenus._\nval df = spark.ProductVegetarianMenus()\ndf.printSchema()\nz.show(df)\n","user":"anonymous","dateUpdated":"2019-08-19T07:42:09+0000","config":{"colWidth":12,"fontSize":9,"enabled":true,"results":{"1":{"graph":{"mode":"table","height":300,"optionOpen":false,"setting":{"table":{"tableGridState":{},"tableColumnTypeState":{"names":{"restaurant":"string","menu":"string"},"updated":false},"tableOptionSpecHash":"[{\"name\":\"useFilter\",\"valueType\":\"boolean\",\"defaultValue\":false,\"widget\":\"checkbox\",\"description\":\"Enable filter for columns\"},{\"name\":\"showPagination\",\"valueType\":\"boolean\",\"defaultValue\":false,\"widget\":\"checkbox\",\"description\":\"Enable pagination for better navigation\"},{\"name\":\"showAggregationFooter\",\"valueType\":\"boolean\",\"defaultValue\":false,\"widget\":\"checkbox\",\"description\":\"Enable a footer for displaying aggregated values\"}]","tableOptionValue":{"useFilter":false,"showPagination":false,"showAggregationFooter":false},"updated":false,"initialized":false}},"commonSetting":{}}}},"editorSetting":{"language":"scala","editOnDblClick":false,"completionKey":"TAB","completionSupport":true},"editorMode":"ace/mode/scala"},"settings":{"params":{},"forms":{}},"runtimeInfos":{"jobUrl":{"propertyName":"jobUrl","label":"SPARK JOB","tooltip":"View in Spark web UI","group":"spark","values":["http://172.17.0.3:4040/jobs/job?id=3","http://172.17.0.3:4040/jobs/job?id=4"],"interpreterSettingId":"spark"}},"apps":[],"jobName":"paragraph_1566197058593_316321772","id":"20190819-064418_983571802","dateCreated":"2019-08-19T06:44:18+0000","dateStarted":"2019-08-19T07:42:09+0000","dateFinished":"2019-08-19T07:42:10+0000","status":"FINISHED","errorMessage":"","progressUpdateIntervalMs":500,"$$hashKey":"object:36891"}],"name":"DataConsumption","id":"2EKTXQRY4","noteParams":{},"noteForms":{},"angularObjects":{"spark:shared_process":[]},"config":{"isZeppelinNotebookCronEnable":false,"looknfeel":"default","personalizedMode":"false"},"info":{}}